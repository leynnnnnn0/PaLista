import{a as se,c as W,j as t,b as O,r as K,H as ae}from"./app-DM40daPY.js";import{C as le,A as re}from"./app-layout-C9eHtrjI.js";import{c as ie,P as ne,a as Y,b as Z,d as ee,e as E,S as te}from"./select-CnppDR-a.js";import{B as G}from"./badge-oAipeM97.js";import{B}from"./button-Dd6bhrKo.js";import{I as ce}from"./input-BfG0743i.js";import{T as Q,a as D,b as oe,c as q,d as me,e as de}from"./table-BEZGQkiW.js";import{C as he}from"./chevron-left-VCDbnqEG.js";import{E as ue}from"./eye-By1R8iLI.js";import{S as fe}from"./search-B6Cw8H1R.js";import{F as xe}from"./filter-DS7iqOWu.js";/* empty css            */import"./utils-BxiAad28.js";import"./index-DUpHjiA5.js";import"./index-BeeHXhO8.js";import"./x-Bd4_7x_e.js";import"./index-DKyHrSmJ.js";import"./index-BWO7bJWN.js";import"./index-ChcvosPI.js";import"./mainLogo-COuSJye7.js";import"./users-D9y25xaO.js";import"./index-BE6vJ0yy.js";import"./chevron-down-B9x7REZ7.js";import"./check-DNQ053M5.js";const ge=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],pe=se("ChevronsLeft",ge);const je=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ve=se("ChevronsRight",je);function be(M){const e=W.c(56),{data:o}=M,{from:a,to:m,total:U,current_page:s,last_page:r}=o;if(r<=1)return null;let c;e[0]!==s||e[1]!==r?(c=f=>{if(f<1||f>r||f===s)return;const n=new URL(window.location.href);n.searchParams.set("page",f.toString()),O.get(n.toString(),{},{preserveState:!0,preserveScroll:!0})},e[0]=s,e[1]=r,e[2]=c):c=e[2];const i=c;let A;e[3]!==s||e[4]!==r?(A=(()=>{const n=[];return n.push(1),s>2&&s<r-1&&(s>3&&n.push("..."),s>2&&n.push(s)),s<r-2&&n.push("..."),r>1&&n.push(r),n})(),e[3]=s,e[4]=r,e[5]=A):A=e[5];const L=A;let w;e[6]!==a?(w=t.jsx("span",{className:"font-medium",children:a}),e[6]=a,e[7]=w):w=e[7];let g;e[8]!==m?(g=t.jsx("span",{className:"font-medium",children:m}),e[8]=m,e[9]=g):g=e[9];let C;e[10]!==U?(C=t.jsx("span",{className:"font-medium",children:U}),e[10]=U,e[11]=C):C=e[11];let p;e[12]!==w||e[13]!==g||e[14]!==C?(p=t.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground order-2 sm:order-1",children:["Showing ",w," to ",g," of"," ",C," results"]}),e[12]=w,e[13]=g,e[14]=C,e[15]=p):p=e[15];let P;e[16]!==i?(P=()=>i(1),e[16]=i,e[17]=P):P=e[17];const R=s===1;let $;e[18]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(pe,{className:"h-4 w-4"}),e[18]=$):$=e[18];let j;e[19]!==P||e[20]!==R?(j=t.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8 hidden sm:inline-flex",onClick:P,disabled:R,"aria-label":"First page",children:$}),e[19]=P,e[20]=R,e[21]=j):j=e[21];let F;e[22]!==s||e[23]!==i?(F=()=>i(s-1),e[22]=s,e[23]=i,e[24]=F):F=e[24];const I=s===1;let T;e[25]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(he,{className:"h-4 w-4"}),e[25]=T):T=e[25];let v;e[26]!==F||e[27]!==I?(v=t.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:F,disabled:I,"aria-label":"Previous page",children:T}),e[26]=F,e[27]=I,e[28]=v):v=e[28];let b;e[29]!==s||e[30]!==i||e[31]!==L?(b=t.jsx("div",{className:"flex items-center gap-1",children:L.map((f,n)=>{if(f==="...")return t.jsx("span",{className:"px-1 sm:px-2 text-muted-foreground text-sm",children:"..."},`ellipsis-${n}`);const x=f,k=x===s;return t.jsx(B,{variant:k?"default":"outline",size:"sm",className:"h-8 min-w-[32px] px-2 sm:px-3 text-xs sm:text-sm",onClick:()=>i(x),disabled:k,"aria-label":`Page ${x}`,"aria-current":k?"page":void 0,children:x},x)})}),e[29]=s,e[30]=i,e[31]=L,e[32]=b):b=e[32];let d;e[33]!==s||e[34]!==i?(d=()=>i(s+1),e[33]=s,e[34]=i,e[35]=d):d=e[35];const H=s===r;let z;e[36]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(le,{className:"h-4 w-4"}),e[36]=z):z=e[36];let h;e[37]!==d||e[38]!==H?(h=t.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:d,disabled:H,"aria-label":"Next page",children:z}),e[37]=d,e[38]=H,e[39]=h):h=e[39];let N;e[40]!==i||e[41]!==r?(N=()=>i(r),e[40]=i,e[41]=r,e[42]=N):N=e[42];const V=s===r;let S;e[43]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(ve,{className:"h-4 w-4"}),e[43]=S):S=e[43];let y;e[44]!==N||e[45]!==V?(y=t.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8 hidden sm:inline-flex",onClick:N,disabled:V,"aria-label":"Last page",children:S}),e[44]=N,e[45]=V,e[46]=y):y=e[46];let u;e[47]!==j||e[48]!==v||e[49]!==b||e[50]!==h||e[51]!==y?(u=t.jsxs("div",{className:"flex items-center gap-1 order-1 sm:order-2",children:[j,v,b,h,y]}),e[47]=j,e[48]=v,e[49]=b,e[50]=h,e[51]=y,e[52]=u):u=e[52];let _;return e[53]!==u||e[54]!==p?(_=t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4 px-2 py-4",children:[p,u]}),e[53]=u,e[54]=p,e[55]=_):_=e[55],_}function Ke(M){const e=W.c(47),{loans:o,filters:a}=M,[m,U]=K.useState(a.search||""),[s,r]=K.useState(a.status||"all"),[c,i]=K.useState(a.aging||"aging"),A=Se;let L;e[0]!==c||e[1]!==s?(L=l=>{O.get("/my-pautang",{search:l,status:s!=="all"?s:void 0,aging:c!=="aging"?c:void 0},{preserveState:!0,preserveScroll:!0})},e[0]=c,e[1]=s,e[2]=L):L=e[2];const w=ie(L,500);let g;e[3]!==w?(g=l=>{const X=l.target.value;U(X),w(X)},e[3]=w,e[4]=g):g=e[4];const C=g;let p;e[5]!==c||e[6]!==m?(p=l=>{r(l),O.get("/my-pautang",{search:m||void 0,status:l!=="all"?l:void 0,aging:c!=="aging"?c:void 0},{preserveState:!0,preserveScroll:!0})},e[5]=c,e[6]=m,e[7]=p):p=e[7];const P=p;let R;e[8]!==m||e[9]!==s?(R=l=>{i(l),O.get("/my-pautang",{search:m||void 0,status:s!=="all"?s:void 0,aging:l!=="aging"?l:void 0},{preserveState:!0,preserveScroll:!0})},e[8]=m,e[9]=s,e[10]=R):R=e[10];const $=R;let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{U(""),r("all"),i("aging"),O.get("/my-pautang",{},{preserveState:!0,preserveScroll:!0})},e[11]=j):j=e[11];const F=j;let I;e[12]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(ae,{title:"My Pautangs"}),e[12]=I):I=e[12];let T;e[13]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"My Pautangs"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your lending portfolio and track collection aging."})]}),e[13]=T):T=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[T,t.jsx("div",{className:"flex items-center space-x-2",children:t.jsxs(B,{className:"cursor-pointer",size:"sm",onClick:Ne,children:[t.jsx(ne,{className:"mr-2 h-4 w-4"}),"New Loan"]})})]}),e[14]=v):v=e[14];let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(fe,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[15]=b):b=e[15];let d;e[16]!==C||e[17]!==m?(d=t.jsxs("div",{className:"relative flex-1 md:max-w-sm",children:[b,t.jsx(ce,{placeholder:"Search Borrowers...",className:"pl-8",value:m,onChange:C})]}),e[16]=C,e[17]=m,e[18]=d):d=e[18];let H;e[19]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(Y,{className:"w-[150px]",children:t.jsx(Z,{placeholder:"Status"})}),e[19]=H):H=e[19];let z;e[20]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs(ee,{children:[t.jsx(E,{value:"all",children:"All Status"}),t.jsx(E,{value:"active",children:"Active"}),t.jsx(E,{value:"voided",children:"Voided"}),t.jsx(E,{value:"completed",children:"Fully Paid"})]}),e[20]=z):z=e[20];let h;e[21]!==P||e[22]!==s?(h=t.jsxs(te,{value:s,onValueChange:P,children:[H,z]}),e[21]=P,e[22]=s,e[23]=h):h=e[23];let N;e[24]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(Y,{className:"w-[180px]",children:t.jsx(Z,{placeholder:"Aging"})}),e[24]=N):N=e[24];let V;e[25]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs(ee,{children:[t.jsx(E,{value:"aging",children:"Filter by Aging"}),t.jsx(E,{value:"soon",children:"Due in 7 days"}),t.jsx(E,{value:"late",children:"Past Due"}),t.jsx(E,{value:"critical",children:"30+ Days Late"})]}),e[25]=V):V=e[25];let S;e[26]!==c||e[27]!==$?(S=t.jsxs(te,{value:c,onValueChange:$,children:[N,V]}),e[26]=c,e[27]=$,e[28]=S):S=e[28];let y;e[29]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs(B,{variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:F,children:[t.jsx(xe,{className:"mr-2 h-4 w-4"}),"Reset"]}),e[29]=y):y=e[29];let u;e[30]!==h||e[31]!==S?(u=t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h,S,y]}),e[30]=h,e[31]=S,e[32]=u):u=e[32];let _;e[33]!==d||e[34]!==u?(_=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[d,u]}),e[33]=d,e[34]=u,e[35]=_):_=e[35];let f;e[36]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(oe,{children:t.jsxs(Q,{className:"bg-muted/50",children:[t.jsx(q,{className:"w-[250px]",children:t.jsx(B,{variant:"ghost",className:"-ml-4 h-8 data-[state=open]:bg-accent",children:"Borrower"})}),t.jsx(q,{children:"Principal Amount"}),t.jsx(q,{className:"hidden md:table-cell",children:"Interest Value"}),t.jsx(q,{children:"Total Amount"}),t.jsx(q,{className:"hidden lg:table-cell",children:"Balance"}),t.jsx(q,{children:"Status"}),t.jsx(q,{className:"text-right",children:"Actions"})]})}),e[36]=f):f=e[36];let n;e[37]!==o.data?(n=o.data.length===0?t.jsx(Q,{children:t.jsx(D,{colSpan:7,className:"h-24 text-center",children:"No loans found."})}):o.data.map(l=>t.jsxs(Q,{className:"transition-colors hover:bg-muted/50",children:[t.jsx(D,{className:"font-medium",children:l.borrower}),t.jsx(D,{className:"font-mono",children:A(l.amount)}),t.jsx(D,{className:"hidden text-muted-foreground md:table-cell",children:l.interest_type==="fixed"?A(l.interest_value):`${l.interest_value}%`}),t.jsx(D,{children:A(l.total_amount)}),t.jsx(D,{children:t.jsx("div",{className:"flex items-center gap-2",children:A(l.remaining_balance)})}),t.jsx(D,{children:t.jsx(ye,{status:l.status})}),t.jsx(D,{className:"text-right",children:t.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:()=>O.get(`/my-pautang/${l.id}`),children:t.jsx(ue,{className:"h-4 w-4"})})})]},l.id)),e[37]=o.data,e[38]=n):n=e[38];let x;e[39]!==n?(x=t.jsxs(me,{children:[f,t.jsx(de,{children:n})]}),e[39]=n,e[40]=x):x=e[40];let k;e[41]!==o?(k=t.jsx(be,{data:o}),e[41]=o,e[42]=k):k=e[42];let J;return e[43]!==_||e[44]!==x||e[45]!==k?(J=t.jsxs(re,{children:[I,t.jsxs("div",{className:"flex-1 space-y-8 p-8 pt-6",children:[v,_,x,k]})]}),e[43]=_,e[44]=x,e[45]=k,e[46]=J):J=e[46],J}function Ne(){return O.get("/my-pautang/create")}function Se(M){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(M)}function ye(M){const e=W.c(6),{status:o}=M;switch(o){case"active":{let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(G,{variant:"secondary",className:"border-none bg-blue-100 text-blue-700 shadow-none hover:bg-blue-100",children:"Active"}),e[0]=a):a=e[0],a}case"overdue":{let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(G,{variant:"destructive",className:"shadow-none",children:"Overdue"}),e[1]=a):a=e[1],a}case"completed":{let a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(G,{variant:"outline",className:"border-emerald-200 bg-emerald-50 text-emerald-700 shadow-none",children:"Paid"}),e[2]=a):a=e[2],a}case"voided":{let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(G,{variant:"outline",className:"text-white shadow-none bg-orange-500",children:"Voided"}),e[3]=a):a=e[3],a}default:{let a;return e[4]!==o?(a=t.jsx(G,{variant:"outline",children:o}),e[4]=o,e[5]=a):a=e[5],a}}}export{Ke as default};
