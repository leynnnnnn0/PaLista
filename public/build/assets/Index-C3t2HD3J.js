import{a as re,c as X,j as t,b as M,r as Q,H as ie}from"./app-DGY1PNw2.js";import{C as ne,A as ce}from"./app-layout-DA-dM304.js";import{c as oe,a as Z,b as ee,d as te,e as E,S as se}from"./select-CZNaCM35.js";import{B as J}from"./badge-BQlje93f.js";import{B as z}from"./button-CAVRZjO_.js";import{I as me}from"./input-BOarcL4L.js";import{T as W,a as D,b as de,c as O,d as he,e as ue}from"./table-DHruTPl5.js";import{C as fe}from"./chevron-left-BAa9nncU.js";import{P as xe}from"./page-header-B2JfpLAD.js";import{E as ae}from"./eye-u7Ir_RrR.js";import{P as ge}from"./plus-B2VxZqE7.js";import{S as pe}from"./search-C8yer6VK.js";import{F as je}from"./filter-nxfuDT-X.js";/* empty css            */import"./utils-vFDMP13S.js";import"./index-DqA9tmbw.js";import"./index-BFDjKlXM.js";import"./x-aukk_G32.js";import"./index-DODGe6-3.js";import"./index-BFo_cZ1A.js";import"./index-CUIwh6W2.js";import"./mainLogo-COuSJye7.js";import"./users-Ldm7Kq3K.js";import"./index-5lJWwDt4.js";import"./chevron-down-BZRaboGr.js";import"./check-D2aQHgxt.js";const ve=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Ne=re("ChevronsLeft",ve);const be=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ye=re("ChevronsRight",be);function Se(q){const e=X.c(56),{data:r}=q,{from:a,to:d,total:U,current_page:s,last_page:i}=r;if(i<=1)return null;let c;e[0]!==s||e[1]!==i?(c=m=>{if(m<1||m>i||m===s)return;const o=new URL(window.location.href);o.searchParams.set("page",m.toString()),M.get(o.toString(),{},{preserveState:!0,preserveScroll:!0})},e[0]=s,e[1]=i,e[2]=c):c=e[2];const n=c;let _;e[3]!==s||e[4]!==i?(_=(()=>{const o=[];return o.push(1),s>2&&s<i-1&&(s>3&&o.push("..."),s>2&&o.push(s)),s<i-2&&o.push("..."),i>1&&o.push(i),o})(),e[3]=s,e[4]=i,e[5]=_):_=e[5];const R=_;let C;e[6]!==a?(C=t.jsx("span",{className:"font-medium",children:a}),e[6]=a,e[7]=C):C=e[7];let g;e[8]!==d?(g=t.jsx("span",{className:"font-medium",children:d}),e[8]=d,e[9]=g):g=e[9];let P;e[10]!==U?(P=t.jsx("span",{className:"font-medium",children:U}),e[10]=U,e[11]=P):P=e[11];let p;e[12]!==C||e[13]!==g||e[14]!==P?(p=t.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground order-2 sm:order-1",children:["Showing ",C," to ",g," of"," ",P," results"]}),e[12]=C,e[13]=g,e[14]=P,e[15]=p):p=e[15];let k;e[16]!==n?(k=()=>n(1),e[16]=n,e[17]=k):k=e[17];const $=s===1;let F;e[18]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(Ne,{className:"h-4 w-4"}),e[18]=F):F=e[18];let j;e[19]!==k||e[20]!==$?(j=t.jsx(z,{variant:"outline",size:"icon",className:"h-8 w-8 hidden sm:inline-flex",onClick:k,disabled:$,"aria-label":"First page",children:F}),e[19]=k,e[20]=$,e[21]=j):j=e[21];let H;e[22]!==s||e[23]!==n?(H=()=>n(s-1),e[22]=s,e[23]=n,e[24]=H):H=e[24];const I=s===1;let B;e[25]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(fe,{className:"h-4 w-4"}),e[25]=B):B=e[25];let v;e[26]!==H||e[27]!==I?(v=t.jsx(z,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:H,disabled:I,"aria-label":"Previous page",children:B}),e[26]=H,e[27]=I,e[28]=v):v=e[28];let h;e[29]!==s||e[30]!==n||e[31]!==R?(h=t.jsx("div",{className:"flex items-center gap-1",children:R.map((m,o)=>{if(m==="...")return t.jsx("span",{className:"px-1 sm:px-2 text-muted-foreground text-sm",children:"..."},`ellipsis-${o}`);const x=m,T=x===s;return t.jsx(z,{variant:T?"default":"outline",size:"sm",className:"h-8 min-w-[32px] px-2 sm:px-3 text-xs sm:text-sm",onClick:()=>n(x),disabled:T,"aria-label":`Page ${x}`,"aria-current":T?"page":void 0,children:x},x)})}),e[29]=s,e[30]=n,e[31]=R,e[32]=h):h=e[32];let N;e[33]!==s||e[34]!==n?(N=()=>n(s+1),e[33]=s,e[34]=n,e[35]=N):N=e[35];const V=s===i;let b;e[36]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(ne,{className:"h-4 w-4"}),e[36]=b):b=e[36];let y;e[37]!==N||e[38]!==V?(y=t.jsx(z,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:N,disabled:V,"aria-label":"Next page",children:b}),e[37]=N,e[38]=V,e[39]=y):y=e[39];let S;e[40]!==n||e[41]!==i?(S=()=>n(i),e[40]=n,e[41]=i,e[42]=S):S=e[42];const A=s===i;let L;e[43]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(ye,{className:"h-4 w-4"}),e[43]=L):L=e[43];let u;e[44]!==S||e[45]!==A?(u=t.jsx(z,{variant:"outline",size:"icon",className:"h-8 w-8 hidden sm:inline-flex",onClick:S,disabled:A,"aria-label":"Last page",children:L}),e[44]=S,e[45]=A,e[46]=u):u=e[46];let f;e[47]!==j||e[48]!==v||e[49]!==h||e[50]!==y||e[51]!==u?(f=t.jsxs("div",{className:"flex items-center gap-1 order-1 sm:order-2",children:[j,v,h,y,u]}),e[47]=j,e[48]=v,e[49]=h,e[50]=y,e[51]=u,e[52]=f):f=e[52];let w;return e[53]!==f||e[54]!==p?(w=t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4 px-2 py-4",children:[p,f]}),e[53]=f,e[54]=p,e[55]=w):w=e[55],w}const we=[{title:"Loans",href:"/my-pautang"}];function Ze(q){const e=X.c(51),{loans:r,filters:a}=q,[d,U]=Q.useState(a.search||""),[s,i]=Q.useState(a.status||"all"),[c,n]=Q.useState(a.aging||"aging"),_=Ce;let R;e[0]!==c||e[1]!==s?(R=l=>{M.get("/my-pautang",{search:l,status:s!=="all"?s:void 0,aging:c!=="aging"?c:void 0},{preserveState:!0,preserveScroll:!0})},e[0]=c,e[1]=s,e[2]=R):R=e[2];const C=oe(R,500);let g;e[3]!==C?(g=l=>{const Y=l.target.value;U(Y),C(Y)},e[3]=C,e[4]=g):g=e[4];const P=g;let p;e[5]!==c||e[6]!==d?(p=l=>{i(l),M.get("/my-pautang",{search:d||void 0,status:l!=="all"?l:void 0,aging:c!=="aging"?c:void 0},{preserveState:!0,preserveScroll:!0})},e[5]=c,e[6]=d,e[7]=p):p=e[7];const k=p;let $;e[8]!==d||e[9]!==s?($=l=>{n(l),M.get("/my-pautang",{search:d||void 0,status:s!=="all"?s:void 0,aging:l!=="aging"?l:void 0},{preserveState:!0,preserveScroll:!0})},e[8]=d,e[9]=s,e[10]=$):$=e[10];const F=$;let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{U(""),i("all"),n("aging"),M.get("/my-pautang",{},{preserveState:!0,preserveScroll:!0})},e[11]=j):j=e[11];const H=j;let I;e[12]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(ie,{title:"My Pautangs"}),e[12]=I):I=e[12];let B;e[13]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(xe,{title:"My Pautangs",subtitle:` Manage your lending portfolio and track collection
                            aging.`,children:t.jsxs(z,{className:"cursor-pointer",size:"sm",onClick:_e,children:[t.jsx(ge,{className:"mr-2 h-4 w-4"}),"New Loan"]})}),e[13]=B):B=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(pe,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[14]=v):v=e[14];let h;e[15]!==P||e[16]!==d?(h=t.jsxs("div",{className:"relative flex-1 md:max-w-sm",children:[v,t.jsx(me,{placeholder:"Search Borrowers...",className:"pl-8",value:d,onChange:P})]}),e[15]=P,e[16]=d,e[17]=h):h=e[17];let N;e[18]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(Z,{className:"w-full md:w-[150px]",children:t.jsx(ee,{placeholder:"Status"})}),e[18]=N):N=e[18];let V;e[19]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs(te,{children:[t.jsx(E,{value:"all",children:"All Status"}),t.jsx(E,{value:"active",children:"Active"}),t.jsx(E,{value:"voided",children:"Voided"}),t.jsx(E,{value:"completed",children:"Fully Paid"})]}),e[19]=V):V=e[19];let b;e[20]!==k||e[21]!==s?(b=t.jsxs(se,{value:s,onValueChange:k,children:[N,V]}),e[20]=k,e[21]=s,e[22]=b):b=e[22];let y;e[23]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(Z,{className:"w-full md:w-[180px]",children:t.jsx(ee,{placeholder:"Aging"})}),e[23]=y):y=e[23];let S;e[24]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs(te,{children:[t.jsx(E,{value:"aging",children:"Filter by Aging"}),t.jsx(E,{value:"soon",children:"Due in 7 days"}),t.jsx(E,{value:"late",children:"Past Due"}),t.jsx(E,{value:"critical",children:"30+ Days Late"})]}),e[24]=S):S=e[24];let A;e[25]!==c||e[26]!==F?(A=t.jsxs(se,{value:c,onValueChange:F,children:[y,S]}),e[25]=c,e[26]=F,e[27]=A):A=e[27];let L;e[28]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs(z,{variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:H,children:[t.jsx(je,{className:"mr-2 h-4 w-4"}),"Reset"]}),e[28]=L):L=e[28];let u;e[29]!==b||e[30]!==A?(u=t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b,A,L]}),e[29]=b,e[30]=A,e[31]=u):u=e[31];let f;e[32]!==u||e[33]!==h?(f=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[h,u]}),e[32]=u,e[33]=h,e[34]=f):f=e[34];let w;e[35]!==r.data?(w=r.data.length===0?t.jsx("div",{className:"flex h-24 items-center justify-center text-center text-muted-foreground",children:"No loans found."}):r.data.map(l=>t.jsxs("div",{className:"flex items-start justify-between rounded-lg border bg-card p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"truncate text-sm font-medium",children:l.borrower})}),t.jsx("div",{className:"mt-2 flex items-center gap-2",children:t.jsxs("div",{className:"text-sm",children:["Balance:"," ",t.jsx("span",{className:"font-mono",children:_(l.remaining_balance)})]})})]}),t.jsxs("div",{className:"ml-4 flex flex-shrink-0 flex-col items-end gap-2",children:[t.jsx(le,{status:l.status}),t.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:()=>M.get(`/my-pautang/${l.id}`),children:t.jsx(ae,{className:"h-4 w-4"})})]})]},l.id)),e[35]=r.data,e[36]=w):w=e[36];let m;e[37]!==w?(m=t.jsx("div",{className:"space-y-3 md:hidden",children:w}),e[37]=w,e[38]=m):m=e[38];let o;e[39]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(de,{children:t.jsxs(W,{className:"bg-muted/50",children:[t.jsx(O,{className:"w-[250px]",children:t.jsx(z,{variant:"ghost",className:"-ml-4 h-8 data-[state=open]:bg-accent",children:"Borrower"})}),t.jsx(O,{children:"Principal Amount"}),t.jsx(O,{className:"hidden md:table-cell",children:"Interest Value"}),t.jsx(O,{children:"Total Amount"}),t.jsx(O,{className:"hidden lg:table-cell",children:"Balance"}),t.jsx(O,{children:"Status"}),t.jsx(O,{className:"text-right",children:"Actions"})]})}),e[39]=o):o=e[39];let x;e[40]!==r.data?(x=r.data.length===0?t.jsx(W,{children:t.jsx(D,{colSpan:7,className:"h-24 text-center",children:"No loans found."})}):r.data.map(l=>t.jsxs(W,{className:"transition-colors hover:bg-muted/50",children:[t.jsx(D,{className:"font-medium",children:l.borrower}),t.jsx(D,{className:"font-mono",children:_(l.amount)}),t.jsx(D,{className:"hidden text-muted-foreground md:table-cell",children:l.interest_type==="fixed"?_(l.interest_value):`${l.interest_value}%`}),t.jsx(D,{children:_(l.total_amount)}),t.jsx(D,{children:t.jsx("div",{className:"flex items-center gap-2",children:_(l.remaining_balance)})}),t.jsx(D,{children:t.jsx(le,{status:l.status})}),t.jsx(D,{className:"text-right",children:t.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:()=>M.get(`/my-pautang/${l.id}`),children:t.jsx(ae,{className:"h-4 w-4"})})})]},l.id)),e[40]=r.data,e[41]=x):x=e[41];let T;e[42]!==x?(T=t.jsx("div",{className:"hidden w-full overflow-x-auto rounded-lg md:block",children:t.jsxs(he,{className:"min-w-[720px]",children:[o,t.jsx(ue,{children:x})]})}),e[42]=x,e[43]=T):T=e[43];let G;e[44]!==r?(G=t.jsx(Se,{data:r}),e[44]=r,e[45]=G):G=e[45];let K;return e[46]!==f||e[47]!==m||e[48]!==T||e[49]!==G?(K=t.jsxs(ce,{breadcrumbs:we,children:[I,t.jsxs("div",{className:"flex-1 space-y-8 p-5 md:p-8",children:[B,f,m,T,G]})]}),e[46]=f,e[47]=m,e[48]=T,e[49]=G,e[50]=K):K=e[50],K}function _e(){return M.get("/my-pautang/create")}function Ce(q){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(q)}function le(q){const e=X.c(6),{status:r}=q;switch(r){case"active":{let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(J,{variant:"secondary",className:"border-none bg-blue-100 text-blue-700 shadow-none hover:bg-blue-100",children:"Active"}),e[0]=a):a=e[0],a}case"overdue":{let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(J,{variant:"destructive",className:"shadow-none",children:"Overdue"}),e[1]=a):a=e[1],a}case"completed":{let a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(J,{variant:"outline",className:"border-emerald-200 bg-emerald-50 text-emerald-700 shadow-none",children:"Paid"}),e[2]=a):a=e[2],a}case"voided":{let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(J,{variant:"outline",className:"bg-orange-500 text-white shadow-none",children:"Voided"}),e[3]=a):a=e[3],a}default:{let a;return e[4]!==r?(a=t.jsx(J,{variant:"outline",children:r}),e[4]=r,e[5]=a):a=e[5],a}}}export{Ze as default};
