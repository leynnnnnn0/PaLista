import{a as B,c as C,r as _,j as s,H as E,b as j}from"./app-Dtnp_C_h.js";import{A as H}from"./app-layout-C52XS_f2.js";import{c as k,S as z}from"./index.module-DX0oI8OJ.js";import{B as g}from"./button-BmVH99-Q.js";import{I as A}from"./input-C9v9X_4f.js";import{T as w,a as r,b as L,c as i,d as P,e as I}from"./table-CpoHPN3l.js";import{P as R}from"./page-header-CtOiT0vZ.js";import{U as $}from"./user-plus-CtReLRud.js";import{H as y}from"./history-DlFMJleZ.js";import{E as M}from"./eye-UUPbx30y.js";/* empty css            */import"./utils-dIpvyk0b.js";import"./index-CXgPnXa5.js";import"./index-CeCmyUds.js";import"./x-B2MOi_Yw.js";import"./index-CrBZd7ha.js";import"./index-B_py3WgM.js";import"./index-CUIwh6W2.js";import"./mainLogo-COuSJye7.js";import"./users-C-Yb6h-b.js";const U=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],D=B("Pencil",U),q=[{title:"Borrowers",href:"/borrowers"}];function he(t){const e=C.c(19),{borrowers:n,filters:v}=t,[a,S]=_.useState(v.search||""),N=k(J,300);let m;e[0]!==N||e[1]!==a?(m=()=>{N(a)},e[0]=N,e[1]=a,e[2]=m):m=e[2];let d;e[3]!==a?(d=[a],e[3]=a,e[4]=d):d=e[4],_.useEffect(m,d);let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(E,{title:"Borrowers"}),e[5]=h):h=e[5];let x;e[6]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(R,{title:"Borrower Directory",subtitle:`Manage your client database and review credit
                            reputations.`,children:s.jsxs(g,{className:"h-10 cursor-pointer bg-primary px-4 shadow-sm hover:bg-blue-700",onClick:G,children:[s.jsx($,{className:"mr-2 h-4 w-4"}),"Add New Borrower"]})}),e[6]=x):x=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(z,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[7]=f):f=e[7];let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=T=>S(T.target.value),e[8]=p):p=e[8];let l;e[9]!==a?(l=s.jsx("div",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{className:"relative w-full max-w-sm",children:[f,s.jsx(A,{placeholder:"Search by name or phone...",className:"h-10 border-slate-200 pl-9 shadow-none ring-offset-transparent focus-visible:ring-blue-500",value:a,onChange:p})]})}),e[9]=a,e[10]=l):l=e[10];let u;e[11]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(L,{className:"bg-slate-50/50",children:s.jsxs(w,{children:[s.jsx(i,{className:"w-[300px]",children:"Borrower"}),s.jsx(i,{className:"hidden md:table-cell",children:"Contact Number"}),s.jsx(i,{className:"hidden md:table-cell",children:"Email"}),s.jsx(i,{className:"hidden lg:table-cell",children:"Total Loans"}),s.jsx(i,{className:"hidden lg:table-cell",children:"Completed Loans"}),s.jsx(i,{className:"text-right",children:"Actions"})]})}),e[11]=u):u=e[11];let c;e[12]!==n.data?(c=n.data.length===0?s.jsx(w,{children:s.jsx(r,{colSpan:6,className:"h-24 text-center",children:"No borrowers found."})}):n.data.map(F),e[12]=n.data,e[13]=c):c=e[13];let o;e[14]!==c?(o=s.jsxs(P,{children:[u,s.jsx(I,{children:c})]}),e[14]=c,e[15]=o):o=e[15];let b;return e[16]!==o||e[17]!==l?(b=s.jsxs(H,{breadcrumbs:q,children:[h,s.jsxs("div",{className:"flex-1 space-y-8 p-8 pt-6",children:[x,l,o]})]}),e[16]=o,e[17]=l,e[18]=b):b=e[18],b}function F(t){return s.jsxs(w,{className:"group transition-colors hover:bg-slate-50/50",children:[s.jsx(r,{children:t.full_name}),s.jsx(r,{className:"hidden md:table-cell",children:t.contact_number??"N/A"}),s.jsx(r,{className:"hidden md:table-cell",children:t.email??"N/A"}),s.jsx(r,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2 font-medium text-slate-600",children:[s.jsx(y,{size:14,className:"text-slate-400"}),t.total_loans]})}),s.jsx(r,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2 font-medium text-slate-600",children:[s.jsx(y,{size:14,className:"text-slate-400"}),t.completed_loans]})}),s.jsx(r,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(g,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:()=>j.get(`/borrowers/${t.id}`),children:s.jsx(M,{className:"h-4 w-4"})}),s.jsx(g,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:()=>j.get(`/borrowers/${t.id}/edit`),children:s.jsx(D,{className:"h-4 w-4"})})]})})]},t.id)}function G(){return j.get("/borrowers/create")}function J(t){j.get("/borrowers",{search:t},{preserveState:!0,preserveScroll:!0,replace:!0})}export{he as default};
