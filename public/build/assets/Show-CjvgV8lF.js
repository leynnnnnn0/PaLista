import{a as I,c as T,j as s,H as q}from"./app-DZntys-m.js";import{B as E}from"./badge-C3MflIkx.js";import{b as y,c as _,C as z,a as A,d as $}from"./card-B2F47Al_.js";import{S as H}from"./separator-DkN3UvT5.js";import{A as O}from"./app-layout-BjuE-y63.js";import{U as M}from"./user-CffXgdQr.js";import{U as V}from"./users-DnUvuURB.js";/* empty css            */import"./button-RkJQsPIt.js";import"./utils-s9lGP0pQ.js";import"./index-CpME5DPB.js";import"./index-XVT5qSKr.js";import"./index-CIdFnb59.js";import"./x-4og-W0wB.js";import"./index-CdJ7nUgT.js";import"./index-CUIwh6W2.js";import"./mainLogo-COuSJye7.js";const Z=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],R=I("Briefcase",Z),G=[{title:"Borrowers",href:"/borrowers/edit"}];function je(a){const e=T.c(55),{borrower:t}=a,i=X,U=W,F=Q;let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(q,{title:"Borrower Details"}),e[0]=w):w=e[0];let C;e[1]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Borrower Details"}),s.jsx("p",{className:"mt-1 text-muted-foreground",children:"Complete information about the borrower"})]}),e[1]=C):C=e[1];let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(z,{children:s.jsxs(A,{className:"flex items-center gap-2",children:[s.jsx(M,{className:"h-5 w-5"}),"Personal Information"]})}),e[2]=S):S=e[2];let P;e[3]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"First Name"}),e[3]=P):P=e[3];let l;e[4]!==t.first_name?(l=s.jsxs("div",{children:[P,s.jsx("p",{className:"font-medium",children:t.first_name})]}),e[4]=t.first_name,e[5]=l):l=e[5];let B;e[6]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Last Name"}),e[6]=B):B=e[6];let c;e[7]!==t.last_name?(c=s.jsxs("div",{children:[B,s.jsx("p",{className:"font-medium",children:t.last_name})]}),e[7]=t.last_name,e[8]=c):c=e[8];let n;e[9]!==t.email?(n=t.email&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:t.email})]}),e[9]=t.email,e[10]=n):n=e[10];let d;e[11]!==t.contact_number?(d=t.contact_number&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Contact Number"}),s.jsx("p",{className:"font-medium",children:t.contact_number})]}),e[11]=t.contact_number,e[12]=d):d=e[12];let L;e[13]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(H,{}),e[13]=L):L=e[13];let m;e[14]!==t.address?(m=t.address&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Street Address"}),s.jsx("p",{className:"font-medium",children:t.address})]}),e[14]=t.address,e[15]=m):m=e[15];let o;e[16]!==t.city?(o=t.city&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"City"}),s.jsx("p",{className:"font-medium",children:t.city})]}),e[16]=t.city,e[17]=o):o=e[17];let x;e[18]!==t.province?(x=t.province&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Province"}),s.jsx("p",{className:"font-medium",children:t.province})]}),e[18]=t.province,e[19]=x):x=e[19];let p;e[20]!==t.zip_code?(p=t.zip_code&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Zip Code"}),s.jsx("p",{className:"font-medium",children:t.zip_code})]}),e[20]=t.zip_code,e[21]=p):p=e[21];let h;e[22]!==t.country?(h=t.country&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:t.country})]}),e[22]=t.country,e[23]=h):h=e[23];let u;e[24]!==t.address||e[25]!==t.city||e[26]!==t.province?(u=!t.address&&!t.city&&!t.province&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No address information provided"}),e[24]=t.address,e[25]=t.city,e[26]=t.province,e[27]=u):u=e[27];let f;e[28]!==m||e[29]!==o||e[30]!==x||e[31]!==p||e[32]!==h||e[33]!==u||e[34]!==l||e[35]!==c||e[36]!==n||e[37]!==d?(f=s.jsxs(y,{children:[S,s.jsxs(_,{className:"space-y-4",children:[l,c,n,d,L,m,o,x,p,h,u]})]}),e[28]=m,e[29]=o,e[30]=x,e[31]=p,e[32]=h,e[33]=u,e[34]=l,e[35]=c,e[36]=n,e[37]=d,e[38]=f):f=e[38];let k;e[39]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(z,{children:s.jsxs(A,{className:"flex items-center gap-2",children:[s.jsx(V,{className:"h-5 w-5"}),"Reference"]})}),e[39]=k):k=e[39];let j;e[40]!==t.references?(j=s.jsxs(y,{children:[k,s.jsx(_,{children:t.references?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:t.references.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Contact Number"}),s.jsx("p",{className:"font-medium",children:t.references.contact_number})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No reference provided"})})]}),e[40]=t.references,e[41]=j):j=e[41];let N;e[42]!==f||e[43]!==j?(N=s.jsxs("div",{className:"space-y-6",children:[f,j]}),e[42]=f,e[43]=j,e[44]=N):N=e[44];let g;e[45]!==t.loans?(g=t.loans&&t.loans.length>0&&s.jsxs(y,{className:"bg-white",children:[s.jsx(z,{children:s.jsxs(A,{className:"flex items-center gap-2",children:[s.jsx(R,{className:"h-5 w-5"}),"Loan Summary"]})}),s.jsxs(_,{className:"grid md:grid-cols-3 gap-5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Total Loans"}),s.jsx("p",{className:"text-2xl font-bold",children:t.loans.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Active Loans"}),s.jsx("p",{className:"text-2xl font-bold",children:t.loans.filter(K).length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Total Outstanding"}),s.jsx("p",{className:"text-xl font-bold text-orange-600",children:i(t.loans.reduce(J,0))})]})]})]}),e[45]=t.loans,e[46]=g):g=e[46];let b;e[47]!==t.loans?(b=t.loans&&t.loans.length>0?s.jsx("div",{className:"space-y-4",children:t.loans.map((r,Y)=>s.jsxs(y,{className:"overflow-hidden",children:[s.jsx(z,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(A,{className:"text-lg",children:s.jsx("a",{className:"underline cursor-pointer",href:`/my-pautang/${r.id}`,target:"_blank",children:r.loan_number})}),s.jsx($,{className:"mt-1",children:U(r.transaction_date)})]}),F(r.status)]})}),s.jsxs(_,{className:"pt-6",children:[s.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 sm:grid-cols-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs tracking-wide text-muted-foreground uppercase",children:"Principal"}),s.jsx("p",{className:"text-2xl font-bold",children:i(r.amount)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs tracking-wide text-muted-foreground uppercase",children:"Interest"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i(r.interest)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.interest_type==="percentage"?`${r.interest_value}%`:i(r.interest_value)," ",r.frequency]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs tracking-wide text-muted-foreground uppercase",children:"Total Amount"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i(r.total_amount)})]})]}),s.jsx(H,{className:"my-4"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Duration"}),s.jsx("p",{className:"font-semibold",children:r.duration})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Frequency"}),s.jsx("p",{className:"font-semibold capitalize",children:r.payment_frequency?.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Remaining"}),s.jsx("p",{className:"font-semibold text-orange-600",children:i(r.remaining_balance)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Status"}),s.jsx("p",{className:"font-semibold capitalize",children:r.status})]})]}),(r.total_penalties>0||r.total_rebates>0)&&s.jsxs(s.Fragment,{children:[s.jsx(H,{className:"my-4"}),s.jsxs("div",{className:"flex gap-6",children:[r.total_penalties>0&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Penalties"}),s.jsx("p",{className:"font-semibold text-red-600",children:i(r.total_penalties)})]}),r.total_rebates>0&&s.jsxs("div",{children:[s.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Rebates"}),s.jsxs("p",{className:"font-semibold text-green-600",children:["-",i(r.total_rebates)]})]})]})]})]})]},r.id))}):s.jsx(y,{children:s.jsx(_,{className:"py-12",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(R,{className:"mx-auto mb-3 h-12 w-12 opacity-20"}),s.jsx("p",{children:"No loans found for this borrower"})]})})}),e[47]=t.loans,e[48]=b):b=e[48];let v;e[49]!==g||e[50]!==b?(v=s.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[g,b]}),e[49]=g,e[50]=b,e[51]=v):v=e[51];let D;return e[52]!==N||e[53]!==v?(D=s.jsxs(O,{breadcrumbs:G,children:[w,s.jsxs("div",{className:"p-5 md:p-8",children:[C,s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[N,v]})]})]}),e[52]=N,e[53]=v,e[54]=D):D=e[54],D}function J(a,e){return a+e.remaining_balance}function K(a){return a.status==="active"}function Q(a){const t={active:{variant:"default",label:"Active"},paid:{variant:"secondary",label:"Paid"},overdue:{variant:"destructive",label:"Overdue"},pending:{variant:"outline",label:"Pending"}}[a.toLowerCase()]||{variant:"outline",label:a};return s.jsx(E,{variant:t.variant,children:t.label})}function W(a){return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function X(a){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(a)}export{je as default};
