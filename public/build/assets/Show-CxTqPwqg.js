import{a as q,c as O,j as e,I as K,H as V}from"./app-Dtnp_C_h.js";import{B as Z}from"./badge-BFJIslw-.js";import{b as k,C as S,a as T,d as F,c as C}from"./card-vL8UhJ6-.js";import{S as I}from"./separator-_eKX0QEE.js";import{T as G,a as J,b as Q,c as X,A as Y}from"./app-layout-C52XS_f2.js";import{U as ee}from"./user-BAPtUoEb.js";import{U as se}from"./users-C-Yb6h-b.js";import{C as te}from"./circle-alert-C9Bms42r.js";import{T as re}from"./trending-up-B00Pw4lK.js";/* empty css            */import"./button-BmVH99-Q.js";import"./utils-dIpvyk0b.js";import"./index-B_py3WgM.js";import"./index-CXgPnXa5.js";import"./index-CeCmyUds.js";import"./x-B2MOi_Yw.js";import"./index-CrBZd7ha.js";import"./index-CUIwh6W2.js";import"./mainLogo-COuSJye7.js";const ae=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],le=q("Award",ae);const ie=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],W=q("Briefcase",ie),ne=[{title:"Borrowers",href:"/borrowers/edit"}];function ze(a){const s=O.c(61),{borrower:t,creditScore:l}=a,i=ue,E=pe,M=he,H=xe,R=me;let P;s[0]===Symbol.for("react.memo_cache_sentinel")?(P=e.jsx(V,{title:"Borrower Details"}),s[0]=P):P=s[0];let B;s[1]===Symbol.for("react.memo_cache_sentinel")?(B=e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Borrower Details"}),e.jsx("p",{className:"mt-1 text-muted-foreground",children:"Complete information about the borrower"})]}),s[1]=B):B=s[1];let n;s[2]!==t.loans?.length||s[3]!==l?(n=t.loans?.length>0&&l.score>0&&e.jsx(G,{delayDuration:200,children:e.jsxs(k,{className:"mb-6 overflow-hidden border-none bg-slate-50/50 shadow-2xl backdrop-blur-md",children:[e.jsx(S,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-2xl font-black tracking-tight text-slate-900",children:"Credit Analysis"}),e.jsx(F,{className:"font-medium text-slate-500",children:"Based on real-time performance metrics"})]}),e.jsx("div",{className:"rounded-2xl bg-white p-3 shadow-sm ring-1 ring-slate-200",children:e.jsx(le,{className:"h-6 w-6 text-indigo-600"})})]})}),e.jsxs(C,{className:"space-y-8 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-10 lg:grid-cols-12",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-[2rem] bg-white p-10 shadow-sm ring-1 ring-slate-200/60 lg:col-span-5",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("div",{className:`absolute h-32 w-32 animate-pulse rounded-full opacity-20 blur-[60px] ${R(l.score)}`}),e.jsxs("svg",{className:"h-52 w-52 -rotate-90",children:[e.jsx("circle",{cx:"104",cy:"104",r:"94",fill:"none",stroke:"currentColor",strokeWidth:"12",className:"text-slate-100"}),e.jsx("circle",{cx:"104",cy:"104",r:"94",fill:"none",stroke:"currentColor",strokeWidth:"12",strokeDasharray:590,strokeDashoffset:590-590*l.score/100,strokeLinecap:"round",className:`transition-all duration-1000 ease-out ${H(l.score)}`})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-6xl leading-none font-black tracking-tighter text-slate-900",children:l.score}),e.jsx("span",{className:"mt-1 text-[10px] font-bold tracking-[0.2em] text-slate-400 uppercase",children:"Trust Score"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full px-6 py-1.5 text-sm font-black shadow-sm ring-1 ring-inset ${R(l.score)} ${H(l.score)}`,children:[e.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-current"}),l.rating?.toUpperCase()]})})]}),e.jsxs("div",{className:"flex flex-col justify-center space-y-6 lg:col-span-7",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-xs font-bold tracking-[0.2em] text-slate-400 uppercase",children:"Key Indicators"}),e.jsx("span",{className:"text-xs font-medium text-slate-400",children:"Weightage"})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:[{label:"Payments",key:"payment_history",max:40,tip:"Measures on-time payments and overall reliability."},{label:"Utilization",key:"credit_utilization",max:25,tip:"Ratio of current debt to your total borrowed limit."},{label:"Performance",key:"loan_performance",max:25,tip:"Based on successful loan completions and lack of penalties."},{label:"History",key:"account_age",max:10,tip:"The length of time your credit accounts have been active."}].map(r=>e.jsxs("div",{className:"group rounded-2xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60 transition-all hover:shadow-md hover:ring-indigo-100",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:r.label}),e.jsxs(J,{children:[e.jsx(Q,{asChild:!0,children:e.jsx("div",{className:"cursor-help text-slate-300 transition-colors hover:text-indigo-500",children:e.jsx(K,{className:"h-4 w-4"})})}),e.jsx(X,{side:"top",className:"border-none bg-slate-900 px-3 py-2 text-white shadow-xl",children:e.jsx("p",{className:"text-[11px] leading-relaxed",children:r.tip})})]})]}),e.jsxs("span",{className:"rounded-md bg-slate-50 px-2 py-0.5 text-xs font-black text-slate-900",children:[l.factors[r.key]," ","/ ",r.max]})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:e.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-1000 group-hover:bg-indigo-400",style:{width:`${l.factors[r.key]/r.max*100}%`}})})]},r.key))})]})]}),l.insights?.length>0&&e.jsxs("div",{className:"pt-6",children:[e.jsx(I,{className:"mb-6 opacity-50"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:l.insights.map(oe)})]})]})]})}),s[2]=t.loans?.length,s[3]=l,s[4]=n):n=s[4];let $;s[5]===Symbol.for("react.memo_cache_sentinel")?($=e.jsx(S,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Personal Information"]})}),s[5]=$):$=s[5];let A;s[6]===Symbol.for("react.memo_cache_sentinel")?(A=e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"First Name"}),s[6]=A):A=s[6];let c;s[7]!==t.first_name?(c=e.jsxs("div",{children:[A,e.jsx("p",{className:"font-medium",children:t.first_name})]}),s[7]=t.first_name,s[8]=c):c=s[8];let D;s[9]===Symbol.for("react.memo_cache_sentinel")?(D=e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Last Name"}),s[9]=D):D=s[9];let d;s[10]!==t.last_name?(d=e.jsxs("div",{children:[D,e.jsx("p",{className:"font-medium",children:t.last_name})]}),s[10]=t.last_name,s[11]=d):d=s[11];let o;s[12]!==t.email?(o=t.email&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Email"}),e.jsx("p",{className:"font-medium",children:t.email})]}),s[12]=t.email,s[13]=o):o=s[13];let m;s[14]!==t.contact_number?(m=t.contact_number&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Contact Number"}),e.jsx("p",{className:"font-medium",children:t.contact_number})]}),s[14]=t.contact_number,s[15]=m):m=s[15];let L;s[16]===Symbol.for("react.memo_cache_sentinel")?(L=e.jsx(I,{}),s[16]=L):L=s[16];let x;s[17]!==t.address?(x=t.address&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Street Address"}),e.jsx("p",{className:"font-medium",children:t.address})]}),s[17]=t.address,s[18]=x):x=s[18];let h;s[19]!==t.city?(h=t.city&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"City"}),e.jsx("p",{className:"font-medium",children:t.city})]}),s[19]=t.city,s[20]=h):h=s[20];let p;s[21]!==t.province?(p=t.province&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Province"}),e.jsx("p",{className:"font-medium",children:t.province})]}),s[21]=t.province,s[22]=p):p=s[22];let u;s[23]!==t.zip_code?(u=t.zip_code&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Zip Code"}),e.jsx("p",{className:"font-medium",children:t.zip_code})]}),s[23]=t.zip_code,s[24]=u):u=s[24];let f;s[25]!==t.country?(f=t.country&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Country"}),e.jsx("p",{className:"font-medium",children:t.country})]}),s[25]=t.country,s[26]=f):f=s[26];let j;s[27]!==t.address||s[28]!==t.city||s[29]!==t.province?(j=!t.address&&!t.city&&!t.province&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No address information provided"}),s[27]=t.address,s[28]=t.city,s[29]=t.province,s[30]=j):j=s[30];let g;s[31]!==m||s[32]!==x||s[33]!==h||s[34]!==p||s[35]!==u||s[36]!==f||s[37]!==j||s[38]!==c||s[39]!==d||s[40]!==o?(g=e.jsxs(k,{children:[$,e.jsxs(C,{className:"space-y-4",children:[c,d,o,m,L,x,h,p,u,f,j]})]}),s[31]=m,s[32]=x,s[33]=h,s[34]=p,s[35]=u,s[36]=f,s[37]=j,s[38]=c,s[39]=d,s[40]=o,s[41]=g):g=s[41];let z;s[42]===Symbol.for("react.memo_cache_sentinel")?(z=e.jsx(S,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"Reference"]})}),s[42]=z):z=s[42];let N;s[43]!==t.references?(N=e.jsxs(k,{children:[z,e.jsx(C,{children:t.references?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Name"}),e.jsx("p",{className:"font-medium",children:t.references.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Contact Number"}),e.jsx("p",{className:"font-medium",children:t.references.contact_number})]})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No reference provided"})})]}),s[43]=t.references,s[44]=N):N=s[44];let b;s[45]!==g||s[46]!==N?(b=e.jsxs("div",{className:"space-y-6",children:[g,N]}),s[45]=g,s[46]=N,s[47]=b):b=s[47];let v;s[48]!==t.loans?(v=t.loans&&t.loans.length>0&&e.jsxs(k,{className:"bg-white",children:[e.jsx(S,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"Loan Summary"]})}),e.jsxs(C,{className:"grid gap-5 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Total Loans"}),e.jsx("p",{className:"text-2xl font-bold",children:t.loans.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Active Loans"}),e.jsx("p",{className:"text-2xl font-bold",children:t.loans.filter(de).length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Total Outstanding"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:i(t.loans.reduce(ce,0))})]})]})]}),s[48]=t.loans,s[49]=v):v=s[49];let y;s[50]!==t.loans?(y=t.loans&&t.loans.length>0?e.jsx("div",{className:"space-y-4",children:t.loans.map(r=>e.jsxs(k,{className:"overflow-hidden",children:[e.jsx(S,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-lg",children:e.jsx("a",{className:"cursor-pointer underline",href:`/my-pautang/${r.id}`,target:"_blank",children:r.loan_number})}),e.jsx(F,{className:"mt-1",children:E(r.transaction_date)})]}),M(r.status)]})}),e.jsxs(C,{className:"pt-6",children:[e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 sm:grid-cols-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs tracking-wide text-muted-foreground uppercase",children:"Principal"}),e.jsx("p",{className:"text-2xl font-bold",children:i(r.amount)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs tracking-wide text-muted-foreground uppercase",children:"Interest"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i(r.interest)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.interest_type==="percentage"?`${r.interest_value}%`:i(r.interest_value)," ",r.frequency]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs tracking-wide text-muted-foreground uppercase",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i(r.total_amount)})]})]}),e.jsx(I,{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Duration"}),e.jsx("p",{className:"font-semibold",children:r.duration})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Frequency"}),e.jsx("p",{className:"font-semibold capitalize",children:r.payment_frequency?.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Remaining"}),e.jsx("p",{className:"font-semibold text-orange-600",children:i(r.remaining_balance)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Status"}),e.jsx("p",{className:"font-semibold capitalize",children:r.status})]})]}),(r.total_penalties>0||r.total_rebates>0)&&e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"my-4"}),e.jsxs("div",{className:"flex gap-6",children:[r.total_penalties>0&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Penalties"}),e.jsx("p",{className:"font-semibold text-red-600",children:i(r.total_penalties)})]}),r.total_rebates>0&&e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs text-muted-foreground",children:"Rebates"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["-",i(r.total_rebates)]})]})]})]})]})]},r.id))}):e.jsx(k,{children:e.jsx(C,{className:"py-12",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(W,{className:"mx-auto mb-3 h-12 w-12 opacity-20"}),e.jsx("p",{children:"No loans found for this borrower"})]})})}),s[50]=t.loans,s[51]=y):y=s[51];let w;s[52]!==v||s[53]!==y?(w=e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[v,y]}),s[52]=v,s[53]=y,s[54]=w):w=s[54];let _;s[55]!==b||s[56]!==w?(_=e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[b,w]}),s[55]=b,s[56]=w,s[57]=_):_=s[57];let U;return s[58]!==_||s[59]!==n?(U=e.jsxs(Y,{breadcrumbs:ne,children:[P,e.jsxs("div",{className:"p-5 md:p-8",children:[B,n,_]})]}),s[58]=_,s[59]=n,s[60]=U):U=s[60],U}function ce(a,s){return a+s.remaining_balance}function de(a){return a.status==="active"}function oe(a,s){const t=a.type==="warning";return e.jsxs("div",{className:`flex items-center gap-3 rounded-2xl px-5 py-3.5 text-sm font-semibold shadow-sm transition-all hover:-translate-y-0.5 ${t?"bg-amber-50 text-amber-900 ring-1 ring-amber-200":"bg-emerald-50 text-emerald-900 ring-1 ring-emerald-200"}`,children:[e.jsx("div",{className:`rounded-full p-1 ${t?"bg-amber-200":"bg-emerald-200"}`,children:t?e.jsx(te,{className:"h-3.5 w-3.5"}):e.jsx(re,{className:"h-3.5 w-3.5"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-1.5",children:[e.jsxs("span",{children:[a.title,":"]}),e.jsx("span",{className:"font-normal opacity-80",children:a.message})]})]},s)}function me(a){return a>=90?"bg-green-50 border-green-200":a>=75?"bg-blue-50 border-blue-200":a>=60?"bg-yellow-50 border-yellow-200":a>=45?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}function xe(a){return a>=90?"text-green-600":a>=75?"text-blue-600":a>=60?"text-yellow-600":a>=45?"text-orange-600":"text-red-600"}function he(a){const t={active:{variant:"default",label:"Active"},paid:{variant:"secondary",label:"Paid"},overdue:{variant:"destructive",label:"Overdue"},pending:{variant:"outline",label:"Pending"}}[a.toLowerCase()]||{variant:"outline",label:a};return e.jsx(Z,{variant:t.variant,children:t.label})}function pe(a){return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function ue(a){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(a)}export{ze as default};
