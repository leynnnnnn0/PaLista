import{a as _e,c as ve,r as de,j as t,b as be,H as Se}from"./app-vHG3AV0R.js";import{B as O}from"./button-q90_dr98.js";import{b as fe,c as he,a as Ce,C as De,d as Pe}from"./card-DDf6PLd2.js";import{C as ke,A as Ae}from"./app-layout-BDh0WwV_.js";import{C as Be}from"./chevron-left-D7US-2Lg.js";import{P as ze}from"./plus-D-Tl8aEY.js";import{U as Le}from"./users-DuZY0w7c.js";import{C as Fe}from"./clock-BvzRFyYz.js";import{C as Me}from"./circle-alert-DRiUTbbn.js";import{C as Ie}from"./calendar-3d8SH8Zo.js";import{F as Re}from"./filter-CufvLYag.js";/* empty css            */import"./utils-C0-ZhNou.js";import"./index-DG9wvgI0.js";import"./index-D0g_8xh8.js";import"./x-ESYkAYfV.js";import"./index-Cq61_j9X.js";import"./index-BpYKvxXB.js";import"./index-CUIwh6W2.js";import"./mainLogo-COuSJye7.js";const He=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Te=_e("CircleCheckBig",He),Ue=[{title:"Dashboard",href:"/dashboard"}];function ft(i){const e=ve.c(94),{stats:l,paymentSchedules:a,filters:f}=i,[m,o]=de.useState(f.date_from),[r,d]=de.useState(f.date_to);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=new Date,e[0]=c):c=e[0];const[p]=de.useState(c),[n,pe]=de.useState(1),h=Ye,ye=We;let W;e[1]!==m||e[2]!==r?(W=()=>{pe(1),be.get("/dashboard",{date_from:m,date_to:r},{preserveState:!0,preserveScroll:!0})},e[1]=m,e[2]=r,e[3]=W):W=e[3];const ue=W;let Y;e[4]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>{const s=new Date().toISOString().split("T")[0];o(s),d(s),pe(1),be.get("/dashboard",{date_from:s,date_to:s},{preserveState:!0,preserveScroll:!0})},e[4]=Y):Y=e[4];const we=Y,E=Math.ceil(a.length/10),q=(n-1)*10,ge=q+10;let G;e[5]!==ge||e[6]!==a||e[7]!==q?(G=a.slice(q,ge),e[5]=ge,e[6]=a,e[7]=q,e[8]=G):G=e[8];const x=G;let J;e[9]===Symbol.for("react.memo_cache_sentinel")?(J=s=>{pe(s)},e[9]=J):J=e[9];const je=J;Ee(p);let K;e[10]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(Se,{title:"Dashboard"}),e[10]=K):K=e[10];let Q;e[11]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Portfolio Overview"}),e[11]=Q):Q=e[11];let u;e[12]!==l.activeAccounts||e[13]!==l.totalBorrowers?(u=t.jsxs("div",{children:[Q,t.jsxs("p",{className:"font-medium text-slate-500",children:["Monitoring ",l.activeAccounts," active loans across ",l.totalBorrowers," borrowers."]})]}),e[12]=l.activeAccounts,e[13]=l.totalBorrowers,e[14]=u):u=e[14];let V;e[15]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs(O,{className:"mt-2 w-full cursor-pointer md:mt-0 md:w-auto",size:"sm",onClick:Oe,children:[t.jsx(ze,{className:"mr-2 h-4 w-4"}),"New Loan"]}),e[15]=V):V=e[15];let g;e[16]!==u?(g=t.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[u,V]}),e[16]=u,e[17]=g):g=e[17];let j;e[18]!==l.totalBorrowers?(j=l.totalBorrowers.toString(),e[18]=l.totalBorrowers,e[19]=j):j=e[19];let X;e[20]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(Le,{className:"text-blue-600",size:20}),e[20]=X):X=e[20];let N;e[21]!==j?(N=t.jsx(xe,{title:"Borrowers",value:j,icon:X}),e[21]=j,e[22]=N):N=e[22];let b;e[23]!==l.activeAccounts?(b=l.activeAccounts.toString(),e[23]=l.activeAccounts,e[24]=b):b=e[24];let Z;e[25]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Te,{className:"text-emerald-600",size:20}),e[25]=Z):Z=e[25];let y;e[26]!==b?(y=t.jsx(xe,{title:"Active Accounts",value:b,icon:Z}),e[26]=b,e[27]=y):y=e[27];let v;e[28]!==l.totalPayables?(v=h(l.totalPayables),e[28]=l.totalPayables,e[29]=v):v=e[29];let ee;e[30]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Fe,{className:"text-orange-500",size:20}),e[30]=ee):ee=e[30];let w;e[31]!==v?(w=t.jsx(xe,{title:"Total Payables",value:v,icon:ee}),e[31]=v,e[32]=w):w=e[32];let _;e[33]!==l.overdueLoans?(_=l.overdueLoans.toString(),e[33]=l.overdueLoans,e[34]=_):_=e[34];let te;e[35]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(Me,{className:"text-red-500",size:20}),e[35]=te):te=e[35];const Ne=l.overdueLoans>0;let S;e[36]!==_||e[37]!==Ne?(S=t.jsx(xe,{title:"Overdue Loans",value:_,icon:te,isAlert:Ne}),e[36]=_,e[37]=Ne,e[38]=S):S=e[38];let C;e[39]!==N||e[40]!==y||e[41]!==w||e[42]!==S?(C=t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[N,y,w,S]}),e[39]=N,e[40]=y,e[41]=w,e[42]=S,e[43]=C):C=e[43];let se;e[44]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ie,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Filter Period:"})]}),e[44]=se):se=e[44];let le;e[45]===Symbol.for("react.memo_cache_sentinel")?(le=s=>o(s.target.value),e[45]=le):le=e[45];let D;e[46]!==m?(D=t.jsx("input",{type:"date",value:m,onChange:le,className:"w-full rounded-md border border-slate-300 px-3 py-1.5 text-sm focus:ring-2 focus:ring-emerald-500 focus:outline-none sm:w-auto"}),e[46]=m,e[47]=D):D=e[47];let ae;e[48]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("span",{className:"text-sm text-slate-500",children:"to"}),e[48]=ae):ae=e[48];let re;e[49]===Symbol.for("react.memo_cache_sentinel")?(re=s=>d(s.target.value),e[49]=re):re=e[49];let P;e[50]!==r?(P=t.jsx("input",{type:"date",value:r,onChange:re,className:"w-full rounded-md border border-slate-300 px-3 py-1.5 text-sm focus:ring-2 focus:ring-emerald-500 focus:outline-none sm:w-auto"}),e[50]=r,e[51]=P):P=e[51];let k;e[52]!==D||e[53]!==P?(k=t.jsxs("div",{className:"flex min-w-0 flex-wrap items-center gap-2",children:[D,ae,P]}),e[52]=D,e[53]=P,e[54]=k):k=e[54];let ne;e[55]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Re,{className:"mr-2 h-3 w-3"}),e[55]=ne):ne=e[55];let A;e[56]!==ue?(A=t.jsxs(O,{size:"sm",className:"w-full bg-emerald-600 shadow-none hover:bg-emerald-700 sm:w-auto",onClick:ue,children:[ne,"Apply"]}),e[56]=ue,e[57]=A):A=e[57];let ie;e[58]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(O,{size:"sm",variant:"outline",className:"w-full shadow-none sm:w-auto",onClick:we,children:"Reset"}),e[58]=ie):ie=e[58];let B;e[59]!==A?(B=t.jsxs("div",{className:"flex w-full gap-2 sm:w-auto",children:[A,ie]}),e[59]=A,e[60]=B):B=e[60];let z;e[61]!==k||e[62]!==B?(z=t.jsx(fe,{className:"border-slate-200 bg-slate-50 shadow-none",children:t.jsx(he,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center",children:[se,k,B]})})}),e[61]=k,e[62]=B,e[63]=z):z=e[63];let oe;e[64]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(Ce,{className:"text-lg font-bold",children:"Payment Schedules"}),e[64]=oe):oe=e[64];let L;e[65]!==a.length?(L=a.length>0&&t.jsxs("span",{className:"ml-2 text-slate-600",children:["(",a.length," total)"]}),e[65]=a.length,e[66]=L):L=e[66];let F;e[67]!==L?(F=t.jsxs(De,{children:[oe,t.jsxs(Pe,{children:["Scheduled payments for the selected period",L]})]}),e[67]=L,e[68]=F):F=e[68];let ce;e[69]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("thead",{className:"border-b border-slate-200 bg-slate-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-600",children:"Borrower"}),t.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-600",children:"Due Date"}),t.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-600",children:"Amount Due"}),t.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-600",children:"Paid"}),t.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-600",children:"Remaining"}),t.jsx("th",{className:"px-4 py-3 text-center font-semibold text-slate-600",children:"Status"})]})}),e[69]=ce):ce=e[69];let M;e[70]!==x?(M=x.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:"No payment schedules found for this period"})}):x.map(s=>t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:s.borrower_name}),t.jsx("td",{className:"px-4 py-3 text-slate-600",children:ye(s.due_date)}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-slate-900",children:h(s.total_due)}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-emerald-600",children:h(s.paid_amount)}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-orange-600",children:h(s.remaining_amount)}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${s.status==="paid"?"bg-emerald-50 text-emerald-700":s.status==="overdue"?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"}`,children:s.status.toUpperCase()})})]},s.id)),e[70]=x,e[71]=M):M=e[71];let I;e[72]!==M?(I=t.jsx("div",{className:"hidden md:block",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[ce,t.jsx("tbody",{className:"divide-y divide-slate-100",children:M})]})})}),e[72]=M,e[73]=I):I=e[73];let R;e[74]!==x?(R=x.length===0?t.jsx("div",{className:"px-4 py-8 text-center text-slate-500",children:"No payment schedules found for this period"}):x.map(s=>t.jsx(fe,{className:"mb-3 border-none shadow-sm ring-1 ring-slate-200",children:t.jsx(he,{className:"p-3",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"truncate font-medium text-slate-900",children:s.borrower_name}),t.jsx("p",{className:"text-sm text-slate-600",children:ye(s.due_date)}),t.jsxs("div",{className:"mt-2 flex flex-col flex-wrap items-start gap-2 text-sm text-slate-600 sm:flex-row",children:[t.jsx("div",{children:"Due:"}),t.jsx("div",{className:"font-medium text-slate-900",children:h(s.total_due)}),t.jsx("div",{children:"Paid:"}),t.jsx("div",{className:"font-medium text-emerald-600",children:h(s.paid_amount)})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-medium text-orange-600",children:h(s.remaining_amount)}),t.jsx("span",{className:`mt-2 inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${s.status==="paid"?"bg-emerald-50 text-emerald-700":s.status==="overdue"?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"}`,children:s.status.toUpperCase()})]})]})})},s.id)),e[74]=x,e[75]=R):R=e[75];let H;e[76]!==R?(H=t.jsx("div",{className:"block md:hidden",children:R}),e[76]=R,e[77]=H):H=e[77];let T;e[78]!==n||e[79]!==a.length||e[80]!==E?(T=a.length>10&&t.jsxs("div",{className:"mt-4 flex flex-col gap-2 border-t border-slate-200 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{className:"text-center text-sm text-slate-600 sm:text-left",children:["Showing"," ",t.jsx("span",{className:"font-medium",children:(n-1)*10+1})," ","to"," ",t.jsx("span",{className:"font-medium",children:Math.min(n*10,a.length)})," ","of"," ",t.jsx("span",{className:"font-medium",children:a.length})," ","results"]}),t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:flex-nowrap",children:[t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>je(n-1),disabled:n===1,className:"flex-shrink-0 shadow-none","aria-label":"Previous page",children:[t.jsx(Be,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),t.jsx("div",{className:"hidden max-w-[40vw] items-center gap-1 overflow-x-auto sm:flex lg:max-w-none",children:Array.from({length:E},$e).map(s=>t.jsx(O,{size:"sm",variant:n===s?"default":"outline",onClick:()=>je(s),className:`shadow-none ${n===s?"bg-emerald-600 hover:bg-emerald-700":""}`,children:s},s))}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 sm:hidden",children:[t.jsx("span",{children:"Page"}),t.jsx("span",{className:"font-medium",children:n}),t.jsx("span",{children:"of"}),t.jsx("span",{className:"font-medium",children:E})]}),t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>je(n+1),disabled:n===E,className:"flex-shrink-0 shadow-none","aria-label":"Next page",children:[t.jsx("span",{className:"hidden sm:inline",children:"Next"}),t.jsx(ke,{className:"h-4 w-4"})]})]})]}),e[78]=n,e[79]=a.length,e[80]=E,e[81]=T):T=e[81];let U;e[82]!==I||e[83]!==H||e[84]!==T?(U=t.jsxs(he,{children:[I,H,T]}),e[82]=I,e[83]=H,e[84]=T,e[85]=U):U=e[85];let $;e[86]!==F||e[87]!==U?($=t.jsx("div",{className:"grid grid-cols-1",children:t.jsxs(fe,{className:"border-none shadow-sm ring-1 ring-slate-200 lg:col-span-2",children:[F,U]})}),e[86]=F,e[87]=U,e[88]=$):$=e[88];let me;return e[89]!==g||e[90]!==C||e[91]!==z||e[92]!==$?(me=t.jsxs(Ae,{breadcrumbs:Ue,children:[K,t.jsxs("div",{className:"min-h-screen space-y-8 bg-slate-50/50 p-6 lg:p-10",children:[g,C,z,$]})]}),e[89]=g,e[90]=C,e[91]=z,e[92]=$,e[93]=me):me=e[93],me}function $e(i,e){return e+1}function Oe(){return be.get("/my-pautang/create")}function Ee(i){const e=i.getFullYear(),l=i.getMonth(),a=new Date(e,l,1),m=new Date(e,l+1,0).getDate(),o=a.getDay();return{daysInMonth:m,startingDayOfWeek:o,year:e,month:l}}function We(i){return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Ye(i){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(i)}function xe(i){const e=ve.c(12),{title:l,value:a,icon:f,isAlert:m}=i;let o;e[0]!==l?(o=t.jsx("p",{className:"truncate text-xs font-semibold tracking-widest text-slate-500 uppercase",children:l}),e[0]=l,e[1]=o):o=e[1];let r;e[2]!==f?(r=t.jsx("div",{className:"rounded-xl bg-slate-50 p-2.5 shadow-sm ring-1 ring-slate-100",children:f}),e[2]=f,e[3]=r):r=e[3];let d;e[4]!==o||e[5]!==r?(d=t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:t.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[o,r]})}),e[4]=o,e[5]=r,e[6]=d):d=e[6];let c;e[7]!==a?(c=t.jsx("h3",{className:"mt-1 text-2xl font-bold text-slate-900",children:a}),e[7]=a,e[8]=c):c=e[8];let p;return e[9]!==d||e[10]!==c?(p=t.jsx(fe,{className:"border-none shadow-sm ring-1 ring-slate-200",children:t.jsx(he,{className:"p-3",children:t.jsxs("div",{children:[d,c]})})}),e[9]=d,e[10]=c,e[11]=p):p=e[11],p}export{ft as default};
