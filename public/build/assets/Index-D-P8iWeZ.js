import{a as ie,c as Y,j as t,b as M,r as W,H as ne}from"./app-vHG3AV0R.js";import{C as ce,A as oe}from"./app-layout-BDh0WwV_.js";import{c as me,a as ee,b as te,d as se,e as E,S as ae}from"./select-CqBHHkoV.js";import{B as K}from"./badge-Bun0SXa6.js";import{B as T}from"./button-q90_dr98.js";import{I as de}from"./input-C3PkohEX.js";import{T as X,a as D,b as he,c as O,d as xe,e as ue}from"./table-DozasoX3.js";import{C as fe}from"./chevron-left-D7US-2Lg.js";import{E as le}from"./eye-DZQVbfI4.js";import{P as ge}from"./plus-D-Tl8aEY.js";import{S as pe}from"./search-BOsT9HSW.js";import{F as je}from"./filter-CufvLYag.js";/* empty css            */import"./utils-C0-ZhNou.js";import"./index-DG9wvgI0.js";import"./index-D0g_8xh8.js";import"./x-ESYkAYfV.js";import"./index-Cq61_j9X.js";import"./index-BpYKvxXB.js";import"./index-CUIwh6W2.js";import"./mainLogo-COuSJye7.js";import"./users-DuZY0w7c.js";import"./index-UDi-Y1QH.js";import"./chevron-down-Az04BZHk.js";import"./check-BbBrzP9L.js";const ve=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Ne=ie("ChevronsLeft",ve);const be=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ye=ie("ChevronsRight",be);function we(q){const e=Y.c(56),{data:r}=q,{from:a,to:d,total:U,current_page:s,last_page:i}=r;if(i<=1)return null;let o;e[0]!==s||e[1]!==i?(o=m=>{if(m<1||m>i||m===s)return;const c=new URL(window.location.href);c.searchParams.set("page",m.toString()),M.get(c.toString(),{},{preserveState:!0,preserveScroll:!0})},e[0]=s,e[1]=i,e[2]=o):o=e[2];const n=o;let S;e[3]!==s||e[4]!==i?(S=(()=>{const c=[];return c.push(1),s>2&&s<i-1&&(s>3&&c.push("..."),s>2&&c.push(s)),s<i-2&&c.push("..."),i>1&&c.push(i),c})(),e[3]=s,e[4]=i,e[5]=S):S=e[5];const L=S;let _;e[6]!==a?(_=t.jsx("span",{className:"font-medium",children:a}),e[6]=a,e[7]=_):_=e[7];let f;e[8]!==d?(f=t.jsx("span",{className:"font-medium",children:d}),e[8]=d,e[9]=f):f=e[9];let C;e[10]!==U?(C=t.jsx("span",{className:"font-medium",children:U}),e[10]=U,e[11]=C):C=e[11];let g;e[12]!==_||e[13]!==f||e[14]!==C?(g=t.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground order-2 sm:order-1",children:["Showing ",_," to ",f," of"," ",C," results"]}),e[12]=_,e[13]=f,e[14]=C,e[15]=g):g=e[15];let P;e[16]!==n?(P=()=>n(1),e[16]=n,e[17]=P):P=e[17];const R=s===1;let $;e[18]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(Ne,{className:"h-4 w-4"}),e[18]=$):$=e[18];let p;e[19]!==P||e[20]!==R?(p=t.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8 hidden sm:inline-flex",onClick:P,disabled:R,"aria-label":"First page",children:$}),e[19]=P,e[20]=R,e[21]=p):p=e[21];let F;e[22]!==s||e[23]!==n?(F=()=>n(s-1),e[22]=s,e[23]=n,e[24]=F):F=e[24];const I=s===1;let z;e[25]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(fe,{className:"h-4 w-4"}),e[25]=z):z=e[25];let j;e[26]!==F||e[27]!==I?(j=t.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:F,disabled:I,"aria-label":"Previous page",children:z}),e[26]=F,e[27]=I,e[28]=j):j=e[28];let v;e[29]!==s||e[30]!==n||e[31]!==L?(v=t.jsx("div",{className:"flex items-center gap-1",children:L.map((m,c)=>{if(m==="...")return t.jsx("span",{className:"px-1 sm:px-2 text-muted-foreground text-sm",children:"..."},`ellipsis-${c}`);const k=m,A=k===s;return t.jsx(T,{variant:A?"default":"outline",size:"sm",className:"h-8 min-w-[32px] px-2 sm:px-3 text-xs sm:text-sm",onClick:()=>n(k),disabled:A,"aria-label":`Page ${k}`,"aria-current":A?"page":void 0,children:k},k)})}),e[29]=s,e[30]=n,e[31]=L,e[32]=v):v=e[32];let h;e[33]!==s||e[34]!==n?(h=()=>n(s+1),e[33]=s,e[34]=n,e[35]=h):h=e[35];const H=s===i;let B;e[36]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(ce,{className:"h-4 w-4"}),e[36]=B):B=e[36];let x;e[37]!==h||e[38]!==H?(x=t.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:h,disabled:H,"aria-label":"Next page",children:B}),e[37]=h,e[38]=H,e[39]=x):x=e[39];let N;e[40]!==n||e[41]!==i?(N=()=>n(i),e[40]=n,e[41]=i,e[42]=N):N=e[42];const V=s===i;let b;e[43]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(ye,{className:"h-4 w-4"}),e[43]=b):b=e[43];let y;e[44]!==N||e[45]!==V?(y=t.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8 hidden sm:inline-flex",onClick:N,disabled:V,"aria-label":"Last page",children:b}),e[44]=N,e[45]=V,e[46]=y):y=e[46];let u;e[47]!==p||e[48]!==j||e[49]!==v||e[50]!==x||e[51]!==y?(u=t.jsxs("div",{className:"flex items-center gap-1 order-1 sm:order-2",children:[p,j,v,x,y]}),e[47]=p,e[48]=j,e[49]=v,e[50]=x,e[51]=y,e[52]=u):u=e[52];let w;return e[53]!==u||e[54]!==g?(w=t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4 px-2 py-4",children:[g,u]}),e[53]=u,e[54]=g,e[55]=w):w=e[55],w}const Se=[{title:"Loans",href:"/my-pautang"}];function Ye(q){const e=Y.c(52),{loans:r,filters:a}=q,[d,U]=W.useState(a.search||""),[s,i]=W.useState(a.status||"all"),[o,n]=W.useState(a.aging||"aging"),S=Ce;let L;e[0]!==o||e[1]!==s?(L=l=>{M.get("/my-pautang",{search:l,status:s!=="all"?s:void 0,aging:o!=="aging"?o:void 0},{preserveState:!0,preserveScroll:!0})},e[0]=o,e[1]=s,e[2]=L):L=e[2];const _=me(L,500);let f;e[3]!==_?(f=l=>{const Z=l.target.value;U(Z),_(Z)},e[3]=_,e[4]=f):f=e[4];const C=f;let g;e[5]!==o||e[6]!==d?(g=l=>{i(l),M.get("/my-pautang",{search:d||void 0,status:l!=="all"?l:void 0,aging:o!=="aging"?o:void 0},{preserveState:!0,preserveScroll:!0})},e[5]=o,e[6]=d,e[7]=g):g=e[7];const P=g;let R;e[8]!==d||e[9]!==s?(R=l=>{n(l),M.get("/my-pautang",{search:d||void 0,status:s!=="all"?s:void 0,aging:l!=="aging"?l:void 0},{preserveState:!0,preserveScroll:!0})},e[8]=d,e[9]=s,e[10]=R):R=e[10];const $=R;let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{U(""),i("all"),n("aging"),M.get("/my-pautang",{},{preserveState:!0,preserveScroll:!0})},e[11]=p):p=e[11];const F=p;let I;e[12]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(ne,{title:"My Pautangs"}),e[12]=I):I=e[12];let z;e[13]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs("div",{className:"w-full md:w-auto",children:[t.jsx("h2",{className:"text-lg md:text-3xl font-bold tracking-tight",children:"My Pautangs"}),t.jsx("p",{className:"text-xs md:text-base text-muted-foreground",children:"Manage your lending portfolio and track collection aging."})]}),e[13]=z):z=e[13];let j;e[14]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs("div",{className:"flex flex-col items-start justify-between space-y-2 md:flex-row md:items-center md:space-y-0",children:[z,t.jsx("div",{className:"mt-3 flex items-center space-x-2 md:mt-0",children:t.jsxs(T,{className:"cursor-pointer",size:"sm",onClick:_e,children:[t.jsx(ge,{className:"mr-2 h-4 w-4"}),"New Loan"]})})]}),e[14]=j):j=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(pe,{className:"absolute top-2.5 left-2.5 h-4 w-4 text-muted-foreground"}),e[15]=v):v=e[15];let h;e[16]!==C||e[17]!==d?(h=t.jsxs("div",{className:"relative flex-1 md:max-w-sm",children:[v,t.jsx(de,{placeholder:"Search Borrowers...",className:"pl-8",value:d,onChange:C})]}),e[16]=C,e[17]=d,e[18]=h):h=e[18];let H;e[19]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(ee,{className:"w-full md:w-[150px]",children:t.jsx(te,{placeholder:"Status"})}),e[19]=H):H=e[19];let B;e[20]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs(se,{children:[t.jsx(E,{value:"all",children:"All Status"}),t.jsx(E,{value:"active",children:"Active"}),t.jsx(E,{value:"voided",children:"Voided"}),t.jsx(E,{value:"completed",children:"Fully Paid"})]}),e[20]=B):B=e[20];let x;e[21]!==P||e[22]!==s?(x=t.jsxs(ae,{value:s,onValueChange:P,children:[H,B]}),e[21]=P,e[22]=s,e[23]=x):x=e[23];let N;e[24]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(ee,{className:"w-full md:w-[180px]",children:t.jsx(te,{placeholder:"Aging"})}),e[24]=N):N=e[24];let V;e[25]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs(se,{children:[t.jsx(E,{value:"aging",children:"Filter by Aging"}),t.jsx(E,{value:"soon",children:"Due in 7 days"}),t.jsx(E,{value:"late",children:"Past Due"}),t.jsx(E,{value:"critical",children:"30+ Days Late"})]}),e[25]=V):V=e[25];let b;e[26]!==o||e[27]!==$?(b=t.jsxs(ae,{value:o,onValueChange:$,children:[N,V]}),e[26]=o,e[27]=$,e[28]=b):b=e[28];let y;e[29]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs(T,{variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:F,children:[t.jsx(je,{className:"mr-2 h-4 w-4"}),"Reset"]}),e[29]=y):y=e[29];let u;e[30]!==x||e[31]!==b?(u=t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x,b,y]}),e[30]=x,e[31]=b,e[32]=u):u=e[32];let w;e[33]!==h||e[34]!==u?(w=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[h,u]}),e[33]=h,e[34]=u,e[35]=w):w=e[35];let m;e[36]!==r.data?(m=r.data.length===0?t.jsx("div",{className:"flex h-24 items-center justify-center text-center text-muted-foreground",children:"No loans found."}):r.data.map(l=>t.jsxs("div",{className:"flex items-start justify-between rounded-lg border bg-card p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"truncate text-sm font-medium",children:l.borrower})}),t.jsx("div",{className:"mt-2 flex items-center gap-2",children:t.jsxs("div",{className:"text-sm",children:["Balance:"," ",t.jsx("span",{className:"font-mono",children:S(l.remaining_balance)})]})})]}),t.jsxs("div",{className:"ml-4 flex flex-shrink-0 flex-col items-end gap-2",children:[t.jsx(re,{status:l.status}),t.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:()=>M.get(`/my-pautang/${l.id}`),children:t.jsx(le,{className:"h-4 w-4"})})]})]},l.id)),e[36]=r.data,e[37]=m):m=e[37];let c;e[38]!==m?(c=t.jsx("div",{className:"space-y-3 md:hidden",children:m}),e[38]=m,e[39]=c):c=e[39];let k;e[40]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(he,{children:t.jsxs(X,{className:"bg-muted/50",children:[t.jsx(O,{className:"w-[250px]",children:t.jsx(T,{variant:"ghost",className:"-ml-4 h-8 data-[state=open]:bg-accent",children:"Borrower"})}),t.jsx(O,{children:"Principal Amount"}),t.jsx(O,{className:"hidden md:table-cell",children:"Interest Value"}),t.jsx(O,{children:"Total Amount"}),t.jsx(O,{className:"hidden lg:table-cell",children:"Balance"}),t.jsx(O,{children:"Status"}),t.jsx(O,{className:"text-right",children:"Actions"})]})}),e[40]=k):k=e[40];let A;e[41]!==r.data?(A=r.data.length===0?t.jsx(X,{children:t.jsx(D,{colSpan:7,className:"h-24 text-center",children:"No loans found."})}):r.data.map(l=>t.jsxs(X,{className:"transition-colors hover:bg-muted/50",children:[t.jsx(D,{className:"font-medium",children:l.borrower}),t.jsx(D,{className:"font-mono",children:S(l.amount)}),t.jsx(D,{className:"hidden text-muted-foreground md:table-cell",children:l.interest_type==="fixed"?S(l.interest_value):`${l.interest_value}%`}),t.jsx(D,{children:S(l.total_amount)}),t.jsx(D,{children:t.jsx("div",{className:"flex items-center gap-2",children:S(l.remaining_balance)})}),t.jsx(D,{children:t.jsx(re,{status:l.status})}),t.jsx(D,{className:"text-right",children:t.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer",onClick:()=>M.get(`/my-pautang/${l.id}`),children:t.jsx(le,{className:"h-4 w-4"})})})]},l.id)),e[41]=r.data,e[42]=A):A=e[42];let G;e[43]!==A?(G=t.jsx("div",{className:"hidden w-full overflow-x-auto rounded-lg md:block",children:t.jsxs(xe,{className:"min-w-[720px]",children:[k,t.jsx(ue,{children:A})]})}),e[43]=A,e[44]=G):G=e[44];let J;e[45]!==r?(J=t.jsx(we,{data:r}),e[45]=r,e[46]=J):J=e[46];let Q;return e[47]!==w||e[48]!==c||e[49]!==G||e[50]!==J?(Q=t.jsxs(oe,{breadcrumbs:Se,children:[I,t.jsxs("div",{className:"flex-1 space-y-8 p-5 md:p-8",children:[j,w,c,G,J]})]}),e[47]=w,e[48]=c,e[49]=G,e[50]=J,e[51]=Q):Q=e[51],Q}function _e(){return M.get("/my-pautang/create")}function Ce(q){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(q)}function re(q){const e=Y.c(6),{status:r}=q;switch(r){case"active":{let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(K,{variant:"secondary",className:"border-none bg-blue-100 text-blue-700 shadow-none hover:bg-blue-100",children:"Active"}),e[0]=a):a=e[0],a}case"overdue":{let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(K,{variant:"destructive",className:"shadow-none",children:"Overdue"}),e[1]=a):a=e[1],a}case"completed":{let a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(K,{variant:"outline",className:"border-emerald-200 bg-emerald-50 text-emerald-700 shadow-none",children:"Paid"}),e[2]=a):a=e[2],a}case"voided":{let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(K,{variant:"outline",className:"bg-orange-500 text-white shadow-none",children:"Voided"}),e[3]=a):a=e[3],a}default:{let a;return e[4]!==r?(a=t.jsx(K,{variant:"outline",children:r}),e[4]=r,e[5]=a):a=e[5],a}}}export{Ye as default};
